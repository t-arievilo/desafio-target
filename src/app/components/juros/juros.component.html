<div class="card">
  <div class="card-header">
    <h2>‚è∞ Calculadora de Juros</h2>
    <p>Calcule multas de 2,5% ao dia em pagamentos em atraso</p>
  </div>
  
  <div class="card-body">
    <!-- Formul√°rio de C√°lculo -->
    <div class="calculo-section">
      <h3>üìù Dados para C√°lculo</h3>
      <div class="form-calculo">
        <div class="form-group">
          <label>Valor Original (R$):</label>
          <input 
            type="number" 
            [(ngModel)]="calculo.valorOriginal" 
            min="0.01"
            step="0.01"
            placeholder="0,00"
            class="form-input"
          >
        </div>

        <div class="form-group">
          <label>Data de Vencimento:</label>
          <input 
            type="date" 
            [(ngModel)]="calculo.dataVencimento" 
            class="form-input"
          >
        </div>

        <div class="acoes">
          <button 
            (click)="calcularJuros()" 
            [disabled]="carregando"
            class="btn-calcular"
          >
            {{ carregando ? 'üîÑ Calculando...' : 'üßÆ Calcular Juros' }}
          </button>
          <button 
            (click)="limparCalculo()" 
            class="btn-limpar"
          >
            üóëÔ∏è Limpar
          </button>
        </div>
      </div>
    </div>

    <!-- Resultado do C√°lculo -->
    <div *ngIf="resultado" class="resultado-section" [class]="getStatusAtraso()">
      <h3>üìä Resultado do C√°lculo</h3>
      
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Valor Original:</span>
          <span class="valor">R$ {{ resultado.valorOriginal.toFixed(2) }}</span>
        </div>
        
        <div class="info-item">
          <span class="label">Data de Vencimento:</span>
          <span class="valor">{{ formatarDataExibicao(resultado.dataVencimento) }}</span>
        </div>
        
        <div class="info-item">
          <span class="label">Data de C√°lculo:</span>
          <span class="valor">{{ formatarDataExibicao(resultado.dataAtual) }}</span>
        </div>
        
        <div class="info-item" *ngIf="resultado.diasAtraso > 0">
          <span class="label">Dias em Atraso:</span>
          <span class="valor atraso">{{ resultado.diasAtraso }} dias</span>
        </div>
        
        <div class="info-item" *ngIf="resultado.diasAtraso === 0">
          <span class="label">Situa√ß√£o:</span>
          <span class="valor em-dia">‚úÖ Em dia</span>
        </div>
        
        <div class="info-item" *ngIf="resultado.diasAtraso > 0">
          <span class="label">Multa por Dia:</span>
          <span class="valor">{{ resultado.multaPorDia }}%</span>
        </div>
        
        <div class="info-item" *ngIf="resultado.diasAtraso > 0">
          <span class="label">Valor dos Juros:</span>
          <span class="valor juros">R$ {{ resultado.valorJuros.toFixed(2) }}</span>
        </div>
      </div>

      <div class="total-section">
        <div class="total-item">
          <span class="label-total">Valor Total a Pagar:</span>
          <span class="valor-total">R$ {{ resultado.valorTotal.toFixed(2) }}</span>
        </div>
        
        <div *ngIf="resultado.diasAtraso > 0" class="resumo-juros">
          <small>
            üí° Acr√©scimo de R$ {{ resultado.valorJuros.toFixed(2) }} 
            ({{ resultado.diasAtraso }} dias √ó {{ resultado.multaPorDia }}% ao dia)
          </small>
        </div>
      </div>
    </div>

    <!-- Instru√ß√µes -->
    <div *ngIf="!resultado" class="instrucoes">
      <h3>‚ÑπÔ∏è Como Funciona</h3>
      <ul>
        <li>Multa de <strong>2,5% ao dia</strong> sobre o valor original</li>
        <li>C√°lculo baseado na data atual do sistema</li>
        <li>Juros aplicados apenas em caso de atraso</li>
        <li>Sem multas para pagamentos em dia ou antecipados</li>
      </ul>
    </div>
  </div>
</div>