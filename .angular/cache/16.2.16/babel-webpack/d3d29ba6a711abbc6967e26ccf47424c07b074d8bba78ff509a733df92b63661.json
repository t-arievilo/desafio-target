{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ComissoesComponent = class ComissoesComponent {\n  constructor(comissaoService) {\n    this.comissaoService = comissaoService;\n    this.novaVenda = {\n      vendedor: '',\n      valor: 0\n    };\n    this.vendas = [];\n    this.resultado = [];\n    this.carregando = false;\n  }\n  adicionarVenda() {\n    if (this.novaVenda.vendedor && this.novaVenda.valor > 0) {\n      this.vendas.push({\n        ...this.novaVenda\n      });\n      this.novaVenda = {\n        vendedor: '',\n        valor: 0\n      };\n    }\n  }\n  removerVenda(index) {\n    this.vendas.splice(index, 1);\n  }\n  calcularComissoes() {\n    if (this.vendas.length === 0) {\n      alert('Adicione pelo menos uma venda para calcular');\n      return;\n    }\n    this.carregando = true;\n    this.comissaoService.calcularComissoes(this.vendas).subscribe({\n      next: resultado => {\n        this.resultado = resultado;\n        this.carregando = false;\n      },\n      error: erro => {\n        console.error('Erro:', erro);\n        this.carregando = false;\n        alert('Erro ao calcular comissões');\n      }\n    });\n  }\n  limparDados() {\n    this.vendas = [];\n    this.resultado = [];\n  }\n  calcularTotalVendedor(vendedor) {\n    return vendedor.vendasComComissao.reduce((total, venda) => total + venda.comissao, 0);\n  }\n};\nComissoesComponent = __decorate([Component({\n  selector: 'app-comissoes',\n  templateUrl: './comissoes.component.html',\n  styleUrls: ['./comissoes.component.css']\n})], ComissoesComponent);","map":{"version":3,"names":["Component","ComissoesComponent","constructor","comissaoService","novaVenda","vendedor","valor","vendas","resultado","carregando","adicionarVenda","push","removerVenda","index","splice","calcularComissoes","length","alert","subscribe","next","error","erro","console","limparDados","calcularTotalVendedor","vendasComComissao","reduce","total","venda","comissao","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Leonardo\\DesafioTarget\\desafio-target-frontend\\src\\app\\components\\comissoes\\comissoes.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ComissaoService, Venda, VendedorComissao } from '../../services/comissao.service';\n\n@Component({\n  selector: 'app-comissoes',\n  templateUrl: './comissoes.component.html',\n  styleUrls: ['./comissoes.component.css']\n})\nexport class ComissoesComponent {\n  novaVenda: Venda = { vendedor: '', valor: 0 };\n  vendas: Venda[] = [];\n  resultado: VendedorComissao[] = [];\n  carregando = false;\n\n  constructor(private comissaoService: ComissaoService) {}\n\n  adicionarVenda() {\n    if (this.novaVenda.vendedor && this.novaVenda.valor > 0) {\n      this.vendas.push({...this.novaVenda});\n      this.novaVenda = { vendedor: '', valor: 0 };\n    }\n  }\n\n  removerVenda(index: number) {\n    this.vendas.splice(index, 1);\n  }\n\n  calcularComissoes() {\n    if (this.vendas.length === 0) {\n      alert('Adicione pelo menos uma venda para calcular');\n      return;\n    }\n\n    this.carregando = true;\n    this.comissaoService.calcularComissoes(this.vendas).subscribe({\n      next: (resultado) => {\n        this.resultado = resultado;\n        this.carregando = false;\n      },\n      error: (erro) => {\n        console.error('Erro:', erro);\n        this.carregando = false;\n        alert('Erro ao calcular comissões');\n      }\n    });\n  }\n\n  limparDados() {\n    this.vendas = [];\n    this.resultado = [];\n  }\n\n  calcularTotalVendedor(vendedor: VendedorComissao): number {\n    return vendedor.vendasComComissao.reduce((total, venda) => total + venda.comissao, 0);\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAM7BC,YAAoBC,eAAgC;IAAhC,KAAAA,eAAe,GAAfA,eAAe;IALnC,KAAAC,SAAS,GAAU;MAAEC,QAAQ,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAC,CAAE;IAC7C,KAAAC,MAAM,GAAY,EAAE;IACpB,KAAAC,SAAS,GAAuB,EAAE;IAClC,KAAAC,UAAU,GAAG,KAAK;EAEqC;EAEvDC,cAAcA,CAAA;IACZ,IAAI,IAAI,CAACN,SAAS,CAACC,QAAQ,IAAI,IAAI,CAACD,SAAS,CAACE,KAAK,GAAG,CAAC,EAAE;MACvD,IAAI,CAACC,MAAM,CAACI,IAAI,CAAC;QAAC,GAAG,IAAI,CAACP;MAAS,CAAC,CAAC;MACrC,IAAI,CAACA,SAAS,GAAG;QAAEC,QAAQ,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAC,CAAE;;EAE/C;EAEAM,YAAYA,CAACC,KAAa;IACxB,IAAI,CAACN,MAAM,CAACO,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;EAC9B;EAEAE,iBAAiBA,CAAA;IACf,IAAI,IAAI,CAACR,MAAM,CAACS,MAAM,KAAK,CAAC,EAAE;MAC5BC,KAAK,CAAC,6CAA6C,CAAC;MACpD;;IAGF,IAAI,CAACR,UAAU,GAAG,IAAI;IACtB,IAAI,CAACN,eAAe,CAACY,iBAAiB,CAAC,IAAI,CAACR,MAAM,CAAC,CAACW,SAAS,CAAC;MAC5DC,IAAI,EAAGX,SAAS,IAAI;QAClB,IAAI,CAACA,SAAS,GAAGA,SAAS;QAC1B,IAAI,CAACC,UAAU,GAAG,KAAK;MACzB,CAAC;MACDW,KAAK,EAAGC,IAAI,IAAI;QACdC,OAAO,CAACF,KAAK,CAAC,OAAO,EAAEC,IAAI,CAAC;QAC5B,IAAI,CAACZ,UAAU,GAAG,KAAK;QACvBQ,KAAK,CAAC,4BAA4B,CAAC;MACrC;KACD,CAAC;EACJ;EAEAM,WAAWA,CAAA;IACT,IAAI,CAAChB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,SAAS,GAAG,EAAE;EACrB;EAEAgB,qBAAqBA,CAACnB,QAA0B;IAC9C,OAAOA,QAAQ,CAACoB,iBAAiB,CAACC,MAAM,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAKD,KAAK,GAAGC,KAAK,CAACC,QAAQ,EAAE,CAAC,CAAC;EACvF;CACD;AA/CY5B,kBAAkB,GAAA6B,UAAA,EAL9B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWhC,kBAAkB,CA+C9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}