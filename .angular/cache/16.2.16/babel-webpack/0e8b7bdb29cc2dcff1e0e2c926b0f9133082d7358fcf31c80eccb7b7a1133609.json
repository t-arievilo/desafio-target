{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/juros.service\";\nexport class JurosComponent {\n  constructor(jurosService) {\n    this.jurosService = jurosService;\n    this.calculo = {\n      valorOriginal: 0,\n      dataVencimento: this.formatarData(new Date())\n    };\n    this.resultado = null;\n    this.carregando = false;\n  }\n  calcularJuros() {\n    if (!this.validarCalculo()) return;\n    this.carregando = true;\n    this.jurosService.calcularJuros(this.calculo).subscribe({\n      next: resultado => {\n        this.resultado = resultado;\n        this.carregando = false;\n      },\n      error: erro => {\n        console.error('Erro ao calcular juros:', erro);\n        this.carregando = false;\n        alert('Erro ao calcular juros. Verifique os dados informados.');\n      }\n    });\n  }\n  validarCalculo() {\n    if (this.calculo.valorOriginal <= 0) {\n      alert('O valor original deve ser maior que zero');\n      return false;\n    }\n    const dataVencimento = new Date(this.calculo.dataVencimento);\n    if (isNaN(dataVencimento.getTime())) {\n      alert('Data de vencimento inválida');\n      return false;\n    }\n    return true;\n  }\n  formatarData(data) {\n    return data.toISOString().split('T')[0];\n  }\n  limparCalculo() {\n    this.calculo = {\n      valorOriginal: 0,\n      dataVencimento: this.formatarData(new Date())\n    };\n    this.resultado = null;\n  }\n  getStatusAtraso() {\n    if (!this.resultado) return '';\n    if (this.resultado.diasAtraso === 0) {\n      return 'sem-atraso';\n    } else if (this.resultado.diasAtraso <= 30) {\n      return 'atraso-leve';\n    } else {\n      return 'atraso-grave';\n    }\n  }\n  static {\n    this.ɵfac = function JurosComponent_Factory(t) {\n      return new (t || JurosComponent)(i0.ɵɵdirectiveInject(i1.JurosService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: JurosComponent,\n      selectors: [[\"app-juros\"]],\n      decls: 2,\n      vars: 0,\n      template: function JurosComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"juros works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["JurosComponent","constructor","jurosService","calculo","valorOriginal","dataVencimento","formatarData","Date","resultado","carregando","calcularJuros","validarCalculo","subscribe","next","error","erro","console","alert","isNaN","getTime","data","toISOString","split","limparCalculo","getStatusAtraso","diasAtraso","i0","ɵɵdirectiveInject","i1","JurosService","selectors","decls","vars","template","JurosComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Leonardo\\DesafioTarget\\desafio-target-frontend\\src\\app\\components\\juros\\juros.component.ts","C:\\Users\\Leonardo\\DesafioTarget\\desafio-target-frontend\\src\\app\\components\\juros\\juros.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { JurosService, CalculoJurosRequest, CalculoJurosResponse } from '../../services/juros.service';\n\n@Component({\n  selector: 'app-juros',\n  templateUrl: './juros.component.html',\n  styleUrls: ['./juros.component.css']\n})\nexport class JurosComponent {\n  calculo: CalculoJurosRequest = {\n    valorOriginal: 0,\n    dataVencimento: this.formatarData(new Date())\n  };\n  \n  resultado: CalculoJurosResponse | null = null;\n  carregando = false;\n\n  constructor(private jurosService: JurosService) {}\n\n  calcularJuros() {\n    if (!this.validarCalculo()) return;\n\n    this.carregando = true;\n    this.jurosService.calcularJuros(this.calculo).subscribe({\n      next: (resultado) => {\n        this.resultado = resultado;\n        this.carregando = false;\n      },\n      error: (erro) => {\n        console.error('Erro ao calcular juros:', erro);\n        this.carregando = false;\n        alert('Erro ao calcular juros. Verifique os dados informados.');\n      }\n    });\n  }\n\n  private validarCalculo(): boolean {\n    if (this.calculo.valorOriginal <= 0) {\n      alert('O valor original deve ser maior que zero');\n      return false;\n    }\n    \n    const dataVencimento = new Date(this.calculo.dataVencimento);\n    if (isNaN(dataVencimento.getTime())) {\n      alert('Data de vencimento inválida');\n      return false;\n    }\n\n    return true;\n  }\n\n  private formatarData(data: Date): string {\n    return data.toISOString().split('T')[0];\n  }\n\n  limparCalculo() {\n    this.calculo = {\n      valorOriginal: 0,\n      dataVencimento: this.formatarData(new Date())\n    };\n    this.resultado = null;\n  }\n\n  getStatusAtraso(): string {\n    if (!this.resultado) return '';\n    \n    if (this.resultado.diasAtraso === 0) {\n      return 'sem-atraso';\n    } else if (this.resultado.diasAtraso <= 30) {\n      return 'atraso-leve';\n    } else {\n      return 'atraso-grave';\n    }\n  }\n}\n","<p>juros works!</p>\n"],"mappings":";;AAQA,OAAM,MAAOA,cAAc;EASzBC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IARhC,KAAAC,OAAO,GAAwB;MAC7BC,aAAa,EAAE,CAAC;MAChBC,cAAc,EAAE,IAAI,CAACC,YAAY,CAAC,IAAIC,IAAI,EAAE;KAC7C;IAED,KAAAC,SAAS,GAAgC,IAAI;IAC7C,KAAAC,UAAU,GAAG,KAAK;EAE+B;EAEjDC,aAAaA,CAAA;IACX,IAAI,CAAC,IAAI,CAACC,cAAc,EAAE,EAAE;IAE5B,IAAI,CAACF,UAAU,GAAG,IAAI;IACtB,IAAI,CAACP,YAAY,CAACQ,aAAa,CAAC,IAAI,CAACP,OAAO,CAAC,CAACS,SAAS,CAAC;MACtDC,IAAI,EAAGL,SAAS,IAAI;QAClB,IAAI,CAACA,SAAS,GAAGA,SAAS;QAC1B,IAAI,CAACC,UAAU,GAAG,KAAK;MACzB,CAAC;MACDK,KAAK,EAAGC,IAAI,IAAI;QACdC,OAAO,CAACF,KAAK,CAAC,yBAAyB,EAAEC,IAAI,CAAC;QAC9C,IAAI,CAACN,UAAU,GAAG,KAAK;QACvBQ,KAAK,CAAC,wDAAwD,CAAC;MACjE;KACD,CAAC;EACJ;EAEQN,cAAcA,CAAA;IACpB,IAAI,IAAI,CAACR,OAAO,CAACC,aAAa,IAAI,CAAC,EAAE;MACnCa,KAAK,CAAC,0CAA0C,CAAC;MACjD,OAAO,KAAK;;IAGd,MAAMZ,cAAc,GAAG,IAAIE,IAAI,CAAC,IAAI,CAACJ,OAAO,CAACE,cAAc,CAAC;IAC5D,IAAIa,KAAK,CAACb,cAAc,CAACc,OAAO,EAAE,CAAC,EAAE;MACnCF,KAAK,CAAC,6BAA6B,CAAC;MACpC,OAAO,KAAK;;IAGd,OAAO,IAAI;EACb;EAEQX,YAAYA,CAACc,IAAU;IAC7B,OAAOA,IAAI,CAACC,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACzC;EAEAC,aAAaA,CAAA;IACX,IAAI,CAACpB,OAAO,GAAG;MACbC,aAAa,EAAE,CAAC;MAChBC,cAAc,EAAE,IAAI,CAACC,YAAY,CAAC,IAAIC,IAAI,EAAE;KAC7C;IACD,IAAI,CAACC,SAAS,GAAG,IAAI;EACvB;EAEAgB,eAAeA,CAAA;IACb,IAAI,CAAC,IAAI,CAAChB,SAAS,EAAE,OAAO,EAAE;IAE9B,IAAI,IAAI,CAACA,SAAS,CAACiB,UAAU,KAAK,CAAC,EAAE;MACnC,OAAO,YAAY;KACpB,MAAM,IAAI,IAAI,CAACjB,SAAS,CAACiB,UAAU,IAAI,EAAE,EAAE;MAC1C,OAAO,aAAa;KACrB,MAAM;MACL,OAAO,cAAc;;EAEzB;;;uBAjEWzB,cAAc,EAAA0B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA;IAAA;EAAA;;;YAAd7B,cAAc;MAAA8B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCR3BT,EAAA,CAAAW,cAAA,QAAG;UAAAX,EAAA,CAAAY,MAAA,mBAAY;UAAAZ,EAAA,CAAAa,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}